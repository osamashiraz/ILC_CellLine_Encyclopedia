if (!require("BiocManager", quietly = TRUE))
install.packages("BiocManager")
BiocManager::install("DESeq2")
BiocManager::install("ConsensusClusterPlus")
library(devtools)
install.packages(devtools)
BiocManager::install(devtools)
BiocManager::install("ComplexHeatmap")
remotes::install_github("anthonynorth/rscodeio")
install.packages(remotes)
install.packages("remotes")
install.packages("devtools")
remotes::install_github("anthonynorth/rscodeio")
rscodeio::install_theme()
library(reticulate)
install.packages("reticulate")
install.packages("tidyverse")
library(reticulate)
library(tidyverse)
library(tidyverse)
# Seeing your enviroments
conda_list()
conda_list()[[1]][1]
conda_list()[[1]][2]
#Using it
use_condaenv(condaenv = "ARCHS4", required = TRUE)
#Using it
use_condaenv(condaenv = "ARCHS4", required = TRUE)
library(reticulate)
# Seeing your enviroments
conda_list()
#Using it
use_condaenv(condaenv = "ARCHS4", required = TRUE)
help use_condaenv
help(use_condaenv)
#Using it
use_condaenv(condaenv = "ARCHS4", required = TRUE, conda = "/Users/oshah/anaconda3/bin/")
#Using it
use_condaenv(required = TRUE, conda = "/Users/oshah/anaconda3/bin/")
#Using it
use_condaenv(condaenv = "ARCHS4", required = TRUE, conda = "/Users/oshah/anaconda3/bin/")
#Using it
@use_condaenv(condaenv = "ARCHS4", required = TRUE, conda = "/Users/oshah/anaconda3/bin/")
#Using it
#use_condaenv(condaenv = "ARCHS4", required = TRUE, conda = "/Users/oshah/anaconda3/bin/")
```
# Seeing your enviroments
conda_list()
#Using it
use_condaenv(condaenv = "ARCHS4", required = TRUE, conda = "/Users/oshah/anaconda3/bin/")
# Seeing your enviroments
conda_list()
reticulate::conda_binary()
reticulate::conda_binary(conda = "/Users/oshah/anaconda3/bin/")
reticulate::conda_binary(conda = "/Users/oshah/anaconda3/bin")
reticulate::conda_binary(conda = "/Users/oshah/anaconda3/bin/conda")
?reticulate::conda_binary(conda = "/Users/oshah/anaconda3/bin/conda")
library(reticulate)
# Seeing your enviroments
conda_list()
# Seeing your enviroments
conda_list()
# Select conda exe
reticulate::conda_binary(conda = "/Users/oshah/anaconda3/bin/conda")
#Using it
use_condaenv(condaenv = "ARCHS4", required = TRUE)
reticulate::use_condaenv()
#Using it
use_condaenv(condaenv = "ARCHS4", required = FALSE)
reticulate::conda_binary()
reticulate::conda_list()
reticulate::conda_version()
reticulate::conda_binary()
reticulate::virtualenv_root()
reticulate::configure_environment()
reticulate::py_config()
# Select conda exe
reticulate::conda_binary(conda = "/Users/oshah/anaconda3/bin/")
#Using it
use_condaenv(condaenv = "ARCHS4", required = FALSE)
# Select conda exe
reticulate::conda_binary(conda = "/Users/oshah/anaconda3/bin/")
# Select conda exe
reticulate::conda_binary(conda = "/Users/oshah/anaconda3/bin/conda")
#Using it
use_condaenv(condaenv = "ARCHS4", required = FALSE)
# Select conda exe
reticulate::conda_binary(conda = "auto")
#Using it
use_condaenv(condaenv = "ARCHS4", required = FALSE)
# Select conda exe
reticulate::conda_binary(conda = "auto")
#Using it
use_condaenv(condaenv = "ARCHS4", required = FALSE)
library(reticulate)
library(NanoStringNCTools)
library(GeomxTools)
library(GeoMxWorkflows)
BiocManager::install("NanoStringNCTools")
pkg-config
.libPaths()
.libPaths()
.libPaths()
.libPaths()
.libPaths()
library(anndata)
library(scDblFinder)
setwd("~/Library/CloudStorage/OneDrive-UniversityofNebraskaMedicalCenter/PCCE/Projects/2.TAM_MCN/Experiments/scRNAseq_MW")
h5ad_path = "./03-DataAnalysis/MCN_scanpy_filtered.h5ad"
data <- read_h5ad(h5ad_path)
library(Seurat)
library(scater)
data <- read_h5ad(h5ad_path)
library(Seurat)
library(scater)
library(scDblFinder)
data <- read_h5ad(h5ad_path)
install.packages("anndata")
library(anndata)
data <- read_h5ad(h5ad_path)
data <- read_h5ad(h5ad_path)
reticulate::conda_python()
reticulate::py_config()
reticulate::py_discover_config()
?reticulate::conda_python
conda_list(conda = "auto")
reticulate::conda_list(conda = "auto")
reticulate::conda_python(envname = "scRNAseq",
conda = "auto")
reticulate::miniconda_path()
reticulate::use_condaenv(condaenv = "scRNAseq", conda = "auto")
reticulate::use_condaenv(condaenv = "scRNAseq", conda = "auto")
reticulate::use_python(python = "/Users/oshah/miniconda3/envs/scRNAseq/bin/python")
h5ad_path = "./03-DataAnalysis/MCN_scanpy_filtered.h5ad"
data <- read_h5ad(h5ad_path)
library(Seurat)
library(scater)
library(scDblFinder)
library(anndata)
h5ad_path = "./03-DataAnalysis/MCN_scanpy_filtered.h5ad"
data <- read_h5ad(h5ad_path)
set.seed(123)
sce = scDblFinder(
SingleCellExperiment(
list(counts=t(data$X)),
)
)
time()
start.time <- Sys.time()
set.seed(123)
sce = scDblFinder(
SingleCellExperiment(
list(counts=t(data$X)),
)
)
doublet_score = sce$scDblFinder.score
doublet_class = sce$scDblFinder.class
end.time <- Sys.time()
time.taken <- end.time - start.time
time.taken
start.time <- Sys.time()
set.seed(123)
sce = scDblFinder(verbose = T,
SingleCellExperiment(
list(counts=t(data$X)),
)
)
doublet_score = sce$scDblFinder.score
doublet_class = sce$scDblFinder.class
end.time <- Sys.time()
time.taken <- end.time - start.time
time.taken
library(Seurat)
library(scater)
library(scDblFinder)
library(anndata)
#library(BiocParallel)
reticulate::conda_list(conda = "auto")
reticulate::use_condaenv(condaenv = "scRNAseq", conda = "auto")
reticulate::use_python(python = "/Users/oshah/miniconda3/envs/scRNAseq/bin/python")
h5ad_path = "./03-DataAnalysis/MCN_scanpy_filtered.h5ad"
data <- read_h5ad(h5ad_path)
start.time <- Sys.time()
set.seed(123)
sce = scDblFinder(verbose = T,
SingleCellExperiment(
list(counts=t(data$X)),
)
)
doublet_score = sce$scDblFinder.score
doublet_class = sce$scDblFinder.class
max(data$X)
install.packages("Matrix", type = "source")
install.packages("irlba", type = "source")
# Install Insitutype:
devtools::install_github("https://github.com/Nanostring-Biostats/InSituType")
devtools::install_github("https://github.com/Nanostring-Biostats/InSituType")
devtools::install_github("https://github.com/Nanostring-Biostats/InSituType", auth_token = "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")
devtools::install_github("https://github.com/Nanostring-Biostats/InSituType", auth_token = "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")
install.packages("Matrix", type = "source")
install.packages("Matrix")
install.packages("irlba")
devtools::install_github("https://github.com/Nanostring-Biostats/InSituType")
devtools::install_github("https://github.com/Nanostring-Biostats/InSituType", auth_token = "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")
library(SpatialOmicsOverlay)
library(GeomxTools)
.libPaths()
.libPaths()
setwd("~/Library/CloudStorage/OneDrive-UniversityofNebraskaMedicalCenter/PCCE/Projects/2.TAM_MCN/Experiments/Integrated_MCN_analysis")
load("/Users/oshah/Library/CloudStorage/OneDrive-UniversityofPittsburgh/Osama Shiraz/01_Projects/04 ILC/Experiments/8 Champions CDH1 Mut PDX/output/Alteration_GAM_subset.Rdata")
setwd("~/Documents/ICLE/2-Analysis")
# Load configuration
source("config.R")
# Load helper functions
source(file.path(DIRS$scripts$helpers, "Helper_Functions.R"))
# Load all ICLE data using the master orchestrator
source(file.path(DIRS$scripts$helpers, "Data_Loading", "01_load_all_data.R"))
# Load all data (ICLE + external datasets)
load_summary <- load_all_icle_data(
load_external = TRUE,
verbose = TRUE
)
# Display loading summary
print(load_summary$load_status)
# Load all ICLE data using the master orchestrator
source(file.path(DIRS$scripts$helpers, "Data_Loading", "01_load_all_data.R"))
# Load all data (ICLE + external datasets)
load_summary <- load_all_icle_data(
load_external = TRUE,
verbose = TRUE
)
# Display loading summary
print(load_summary$load_status)
# Add manual SV/Exonic deletions if objects exist
if (exists("BRCA_CL_GAM", envir = .GlobalEnv)) {
BRCA_CL_GAM <- get("BRCA_CL_GAM", envir = .GlobalEnv)
BRCA_CL_GAM["CDH1", c("MDAMB134VI-I", "OCUBM-I")] <- "DEL"  # Exonic deletion
BRCA_CL_GAM["CDH1", c("HCC2185-I", "HCC2218-I", "SKBR3-I")] <- "DEL"  # Large deletion
BRCA_CL_GAM["CTNNA1", "MDAMB468-I"] <- "DEL"  # Exonic deletion
assign("BRCA_CL_GAM", BRCA_CL_GAM, envir = .GlobalEnv)
if (verbose) message("  ✓ GAM generated with manual SV annotations\n")
}
# Add manual SV/Exonic deletions if objects exist
if (exists("BRCA_CL_GAM", envir = .GlobalEnv)) {
BRCA_CL_GAM <- get("BRCA_CL_GAM", envir = .GlobalEnv)
BRCA_CL_GAM["CDH1", c("MDAMB134VI-I", "OCUBM-I")] <- "DEL"  # Exonic deletion
BRCA_CL_GAM["CDH1", c("HCC2185-I", "HCC2218-I", "SKBR3-I")] <- "DEL"  # Large deletion
BRCA_CL_GAM["CTNNA1", "MDAMB468-I"] <- "DEL"  # Exonic deletion
}
message("Manual GAM annotations applied")
# Run molecular subtyping analysis
source(file.path(DIRS$scripts$helpers, "01_Molecular_Subtyping.R"), chdir = T)
# Run genotype similarity analysis
source(file.path(DIRS$scripts$helpers, "02_SupFig1_Genotype_Similarity.R"), chdir = T)
# Run SET signature analysis
source(file.path(DIRS$scripts$helpers, "03_Fig1C_SET_Signature.R"), chdir = T)
# Run multiomics overview analysis
source(file.path(DIRS$scripts$helpers, "04_Fig1D_Multiomics_Overview.R"), chdir = T)
setwd("~/Documents/ICLE/2-Analysis")
annot_data
setwd("~/Documents/ICLE/2-Analysis/Helper_Scripts/Data_Loading")
annot_data <- load_cell_line_annotations()
assign("CL_Annots", annot_data$CL_Annots, envir = .GlobalEnv)
assign("CL_Histology", annot_data$CL_Histology, envir = .GlobalEnv)
load_status$annotations <- "SUCCESS"
# Check if CL_Annots exists in the environment
if (exists("CL_Annots")) {
cat("✓ CL_Annots exists in environment\n")
cat("  Dimensions:", dim(CL_Annots), "\n")
} else {
cat("✗ CL_Annots not found - needs to be loaded\n")
}
# Run multiomics overview analysis
source(file.path(DIRS$scripts$helpers, "04_Fig1D_Multiomics_Overview.R"), chdir = T)
data_objects <- c("CL_Annots", "BRCA_CL_GAM", "BRCA_CL_RPPA", "BRCA_CL_EXP", "BRCA_CL_DNAm")
for (obj in data_objects) {
if (exists(obj)) {
obj_data <- get(obj)
if (is.data.frame(obj_data) || is.matrix(obj_data)) {
cat(sprintf("✓ %-20s: %s\n", obj, paste(dim(obj_data), collapse = " x ")))
} else {
cat(sprintf("✓ %-20s: exists\n", obj))
}
} else {
cat(sprintf("✗ %-20s: NOT FOUND\n", obj))
}
}
